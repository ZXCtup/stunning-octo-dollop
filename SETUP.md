# Инструкция по настройке и исправлению ошибки 401 Unauthorized

## Причина ошибки 401

Ошибка `401 Unauthorized` означает, что API панели отклонил ваши учетные данные. Это может быть потому что:

1. **Неправильные username/password** для доступа к панели
2. **Неправильный формат URL** панели
3. **API требует специальную аутентификацию**

## Решение

### Шаг 1: Проверьте URL панели

URL должен быть **БЕЗ** `/api/v1` в конце и **БЕЗ** trailing slash.

❌ **Неправильно:**
```
https://your.domain.com:<your panel port>/SOmelEttERSAndnumBERS/api/v1
https://your.domain.com:<your panel port>/SOmelEttERSAndnumBERS/
```

✅ **Правильно:**
```
https://hook.petyaengland.ru:7999/fc16f65724c2b1941fee7a96cc8424f2
```

### Шаг 2: Создайте файл `.env`

Скопируйте файл `.env example` в `.env` и заполните реальные данные:

```bash
cp .env.example .env
```

Отредактируйте `.env`:

```
TELEGRAM_BOT_TOKEN=ТОКЕН ОТ @BotFather
BLITZ_API_BASE_URL=https://your.domain.com:<your panel port>/SOmelEttERSAndnumBERS
BLITZ_API_USERNAME=admin
BLITZ_API_PASSWORD=ваш_пароль_админа
```

**Важно:** 
- Не добавляйте кавычки вокруг значений
- Сохраните файл с кодировкой UTF-8
- Никогда не коммитьте `.env` в git!

### Шаг 3: Проверьте учетные данные

Убедитесь, что:
1. **Username** - это username админа панели
2. **Password** - это пароль админа панели (НЕ пароль юзера)
3. Вы можете войти в веб-панель с этими учетными данными

### Шаг 4: Запустите бота

```bash
python main.py
```

Если все правильно, бот должен запуститься без ошибок.

## Дополнительная проверка

Если ошибка все еще появляется, проверьте логи консоли для деталей:

```
API request failed: 401 Client Error: Unauthorized for url: ...
```

Это может означать:
1. Неправильный URL
2. Неправильный username/password
3. API требует другой метод аутентификации

## Если это не помогает

1. Проверьте, что API панели доступна и работает
2. Проверьте, что вы используете HTTPS если панель на HTTPS
3. Проверьте, что на сервере панели нет блокировок IP
